# CID-2025-002: Resolve R36/R37 Scope Contradiction

**Date:** 2025-12-27  
**Type:** Governance Correction  
**Status:** Approved

---

## Summary

EXIT.md (lines 10, 94-95, 189) and A3_SI_CHECKPOINT.md (line 43) incorrectly stated R36/R37 are deferred to A4. Per BRD AC-64.3.4/5, UTG Schema, and A3_MARKER_EXTRACTION.md, R36/R37 are A3 scope.

---

## Problem Statement

| Document | Line | Incorrect Statement |
|----------|------|---------------------|
| EXIT.md | 10 | "R36/R37 deferred to A4 TEST-REL stage" |
| EXIT.md | 94-95 | "Deferred to A4 (TEST-REL stage)" |
| EXIT.md | 189 | "Not implemented in A3...derived in A4 TEST-REL stage" |
| A3_SI_CHECKPOINT.md | 43 | "R36/R37 deferred to A4 TEST-REL" |

---

## Canonical Decision

**R36/R37 are A3 scope.**

### Evidence

| Document | Line | Authoritative Statement |
|----------|------|------------------------|
| BRD V20.6.4 | 11778 | AC-64.3.4: Extract `describe('STORY-XX.YY')` → R36 TESTED_BY (P0) |
| BRD V20.6.4 | 11779 | AC-64.3.5: Extract `it('AC-XX.YY.ZZ')` → R37 VERIFIED_BY (P0) |
| A3_MARKER_EXTRACTION.md | 24 | `@scope-relationships-active: ...R36,R37...` |
| A3_MARKER_EXTRACTION.md | 78 | "A3 only creates R18/R19/R36/R37" |
| A2_RELATIONSHIP_REGISTRY.md | 70 | "Deferred to A3: R18, R19, R36, R37" |

### Root Cause

EXIT.md line 189 stated: "R36/R37 are test-structure relationships derived in A4 TEST-REL stage, not from comment markers."

This reasoning was **flawed** because:
- BRD AC-64.3.4/5 explicitly say "Extract `describe('STORY-XX.YY')`" — this is test-structure extraction
- The BRD assigned this to Story 64.3 (Marker Extraction = A3) despite it being test-structure
- EXIT.md author misinterpreted "marker extraction" to mean "comment markers only"

---

## Affected Documents

| File | Lines Changed |
|------|---------------|
| spec/track_a/EXIT.md | 3, 8-12, 94-95, 189 |
| docs/verification/A3_SI_CHECKPOINT.md | 43 |

---

## Changes Made

### EXIT.md

1. Version bumped to 1.5.3
2. Added changelog entry for CID-2025-002
3. Changed v1.5.0 from "R36/R37 deferred to A4" to "R36/R37 extraction implemented"
4. Changed v1.3.0 from "R36/R37 deferral to A3" to "R36/R37 IN A3 SCOPE"
5. Changed R36/R37 table entries from "Deferred to A4" to "Pass (A3 scope)"
6. Updated Pending Clarifications to state R36/R37 are implemented in A3

### A3_SI_CHECKPOINT.md

1. Changed expected relationships from "R18/R19 only" to "R18/R19/R36/R37"

---

## No Code Changes Required

Implementation already correct:

| File | Evidence |
|------|----------|
| src/extraction/providers/test-relationship-provider.ts | `@implements STORY-64.3`, `@satisfies AC-64.3.4`, `@satisfies AC-64.3.5` |
| src/ops/track-a.ts | `extractAndPersistTestRelationships()` exists |
| scripts/verification/expectations/track-a-expectations.ts | R36/R37 are `EXPECTED_NONZERO` for A3 |

---

## Verification

- [ ] verify:track-milestone passes with R36/R37 as EXPECTED_NONZERO
- [ ] PostgreSQL R36=1, R37=2 (matches pre-patch)
- [ ] No data migration required

---

## Prevention

To prevent future scope contradictions:
- EXIT.md records implementation STATE, not scope AUTHORITY
- Scope authority flows from BRD → Story Specs → Implementation
- When EXIT.md contradicts BRD, EXIT.md is wrong

---

## Authorized By

MB - 2025-12-27

---

**END OF CID-2025-002**

