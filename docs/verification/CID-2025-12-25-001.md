# CID-2025-12-25-001: BRD Format Standardization

## Change Description

Updated BRD V20.6.3 → V20.6.4 by standardizing story format for Epics 49-53.
46 stories converted from bullet-list format to standard `#### Story X.Y:` heading format with explicit acceptance criteria.

## Reason

7 Epics were isolated in the traceability graph because their stories used non-standard formatting that the BRD parser (`src/extraction/parsers/brd-parser.ts`) didn't recognize. This created false orphans and incomplete traceability coverage.

## Epics Affected

| Epic | Stories Added | ACs Added |
|------|---------------|-----------|
| Epic 49 | 9 | ~60 |
| Epic 50 | 10 | ~65 |
| Epic 51 | 9 | ~58 |
| Epic 52 | 9 | ~57 |
| Epic 53 | 9 | ~58 |
| **Total** | **46** | **298** |

## Impact on Locked Invariants

| Metric | Before (V20.6.3) | After (V20.6.4) | Delta |
|--------|------------------|-----------------|-------|
| E01 (Epics) | 65 | 65 | 0 |
| E02 (Stories) | 351 | 397 | +46 |
| E03 (ACs) | 2,849 | 3,147 | +298 |
| Total Entities | 3,830 | 4,309 | +479 |
| Total Relationships | 3,825 | 4,078 | +253 |

## Files Modified

### Organ Documents
- `docs/BRD_V20_6_3_COMPLETE.md` → Version header updated to V20.6.4

### Locked Surfaces (Require Re-verification)
- `src/extraction/parsers/brd-parser.ts` - Expected counts updated
- `test/sanity/extraction.test.ts` - Expected counts updated
- `test/sanity/brd.test.ts` - Expected counts updated
- `scripts/verify-organ-parity.ts` - Expected counts updated
- `scripts/verification/expectations/track-a-expectations.ts` - Invariant counts updated

## Verification Results

| Check | Result |
|-------|--------|
| Track Milestone (A3) | ✅ 29/39 passed, 0 failed, 10 skipped |
| Organ Parity | ✅ 11/11 passed |
| Cross-Store Parity | ✅ PG=Neo4j (4,309 entities, 4,078 relationships) |
| Sanity Tests | ✅ 55/55 passed |
| BRD Parser | ✅ 65/397/3147 extracted correctly |

## Git References

| Commit | Description |
|--------|-------------|
| `633c4cac` | BRD V20.6.4: Story format standardization (+46 stories, +298 ACs) |
| `7040c38` | A3: Update expected counts for BRD V20.6.4 + add sync utility |
| `73529a6` | Fix SQL injection vulnerability in sync script |

## SI Universe Freeze

- **Tag**: `si-readiness-v3`
- **SHA**: `633c4cac9bf600b0b3fec086992a38fa35319678`
- **BRD Hash**: `1cf8ec2d3fdcc92c4ff0c731712a1876f9a108b091e375ce4e95ab51dc6da39f`

## Authorization

- **Requested By**: Cursor Agent
- **Approved By**: MB (Human Gate)
- **Date**: 2025-12-25
- **Reason**: Legitimate format standardization to achieve full traceability coverage

## Checklist

- [x] BRD content updated (no semantic changes, format only)
- [x] Parser expectations updated
- [x] Test expectations updated
- [x] Extraction re-run
- [x] Cross-store parity verified
- [x] SI Universe Freeze updated
- [x] Git tag created (si-readiness-v3)
- [x] .cursorrules locked invariants updated
- [x] CID document created (this file)

---

**END OF CID-2025-12-25-001**

